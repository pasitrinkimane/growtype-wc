!function(){"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function r(e,r){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return t(e,r)}(e))||r&&e&&"number"==typeof e.length){o&&(e=o);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==o.return||o.return()}finally{if(s)throw i}}}}function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}jQuery(document).ready((function(){var t,o;!function(){var r=new Event("filterProductsByOrder");function t(){0===jQuery(".woocommerce-ordering .chosen-container").length&&"function"==typeof jQuery.fn.chosen&&setTimeout((function(){jQuery(".woocommerce-ordering select").chosen(window.selectArgs)}),200),jQuery(".woocommerce-ordering").submit((function(e){e.preventDefault()})),jQuery(".woocommerce-ordering select").change((function(t){var o=new URLSearchParams(window.location.search),n=jQuery(this).attr("name"),a=jQuery(this).val(),i=jQuery(".products").attr("data-group"),c=jQuery(".products").attr("data-base"),s="";woocommerce_params_widgets.min_price=o.get("min_price"),woocommerce_params_widgets.max_price=o.get("max_price"),woocommerce_params_widgets.orderby=o.get("orderby"),jQuery(this).val().length>0&&(woocommerce_params_widgets.orderby=jQuery(this).val()),void 0!==e(jQuery("body")[0])&&null!==jQuery("body")[0].className.match(/term-\d+/)&&(s=(s=jQuery("body")[0].className.match(/term-\d+/)[0]).replace("term-","")),s.length>0&&(woocommerce_params_widgets.categories_ids=[s]),window.history.replaceState("","",function(e,r,t){var o=null,n="",a=e.split("?"),i=a[0],c=a[1],s="";if(c){var u=c.split("#"),l=u[0];(o=u[1])&&(c=l),a=c.split("&");for(var d=0;d<a.length;d++)a[d].split("=")[0]!=r&&(n+=s+a[d],s="&")}else{var m=i.split("#"),p=m[0];o=m[1],p&&(i=p)}return o&&(t+="#"+o),i+"?"+n+s+r+"="+t}(window.location.href,n,a)),jQuery(".woocommerce-pagination .page-numbers").each((function(e,r){if(void 0!==jQuery(r).attr("href")){var t=new RegExp("("+n+"=)[^&]+");jQuery(r).attr("href",jQuery(r).attr("href").replace(t,"$1"+a))}})),$.ajax({url:woocommerce_params.ajax_url,type:"post",data:{orderby:woocommerce_params_widgets.orderby,action:"filter_products",categories_ids:woocommerce_params_widgets.categories_ids,page_nr:growtype_params.page_nr,products_group:i,min_price:woocommerce_params_widgets.min_price,max_price:woocommerce_params_widgets.max_price,base:c},beforeSend:function(){jQuery(".products").append("<span class='spinner-border'><div></div><div></div></span>").addClass("is-loading")},success:function(e){jQuery(".products .spinner-border").remove(),jQuery(".products").removeClass("is-loading").html("").append(e.products).promise().done((function(){document.dispatchEvent(r)})),jQuery(".woocommerce-pagination").length>0?jQuery(".woocommerce-pagination").replaceWith(e.pagination):jQuery(".products").after(e.pagination),growtype_params.page_nr>1&&0===e.pagination.length&&(window.location=c+"?orderby="+woocommerce_params_widgets.orderby)}})}))}document.addEventListener("filterProductsByPrice",t),document.addEventListener("filterProductsByCategories",t),t()}(),t=new Event("filterProductsByPrice"),o=0,jQuery(".price_slider").on("slidestart",(function(e,r){o=r.values})),jQuery(".price_slider").on("slidestop",(function(e,r){if(JSON.stringify(o)==JSON.stringify(r.values))return!1;woocommerce_params_widgets.min_price=r.values[0],woocommerce_params_widgets.max_price=r.values[1];var n=jQuery(".widget_price_filter form"),a=jQuery("body").find(".products"),i=jQuery("body").find("#main");$.ajax({url:n.attr("action"),data:n.serialize(),type:n.attr("method"),beforeSend:function(e){a.addClass("is-loading")},success:function(e){a.removeClass("is-loading");var r=jQuery(e).find(".products"),o=jQuery(e).find("#main");window.history.pushState("page-url","url",n.attr("action")+"?"+n.serialize()),jQuery(".woocommerce-info").remove(),1===r.html().length&&jQuery("#main").prepend(jQuery(e).find(".woocommerce-info")),i.replaceWith(o),document.dispatchEvent(t)}})})),function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];woocommerce_params_widgets.categories_ids=e,$.ajax({url:woocommerce_params.ajax_url,type:"post",data:{orderby:woocommerce_params_widgets.orderby,action:"filter_products",categories_ids:e},beforeSend:function(){jQuery(".products").addClass("is-loading")},success:function(e){jQuery(".products").removeClass("is-loading").html("").append(e).promise().done((function(){}))}})}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=window.location.href,o=null;(o=r.length>0?t.includes("categories")?t.replace("categories="+e.toString(),"categories="+r.toString()):window.location.search.length>0?t+"&categories="+r.toString():t+"?categories="+r.toString():t.replace("&categories="+e.toString(),"").replace("?categories="+e.toString()+"&","?").replace("?categories="+e.toString(),"")).length>0&&window.history.pushState("page-url","url",o)}function o(){var e,t=window.location.href,o=new URL(t),n=[],a=r(new URLSearchParams(o.search));try{for(a.s();!(e=a.n()).done;){var i=e.value;i[0].length>0&&"categories"===i[0]&&(n=i[1].split(","))}}catch(e){a.e(e)}finally{a.f()}return n}new Event("filterProductsByCategories"),function(){if(jQuery('.product-categories[data-multiple="true"]').length>0){var r=o();r.length>0&&(r.map((function(e){jQuery(".product-categories .cat-item-"+e).addClass("current-cat")})),e(r)),jQuery('.product-categories[data-multiple="true"] a').click((function(r){r.preventDefault();var n,a=jQuery(this).closest(".cat-item"),i=a.attr("class").split(" "),c=null,s=[];if(0===jQuery('.product-categories[data-multiple-include-parent="true"]').length&&a.hasClass("cat-parent"))return!1;if(i.length>=2&&(c=(c=i[1]).split("cat-item-").pop()),null===c&&window.redirect(jQuery(this).attr("href")),n=o(),s=o(),a.hasClass("current-cat")){a.removeClass("current-cat");var u=s.indexOf(c);-1!==u&&s.splice(u,1)}else a.addClass("current-cat"),s.push(c);t(n,s),e(s)})),jQuery(".btn-clear-cat-filter").click((function(){var r=o();r.length>0&&(t(r),e(),jQuery(".product-categories .cat-item").removeClass("current-cat"))}))}}()}()}))}();
//# sourceMappingURL=wc-widgets.js.map