{"version":3,"file":"/scripts/wc-widgets.js","mappings":"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","sources":["webpack://sage/./resources/scripts/wc-widgets.js","webpack://sage/./resources/scripts/widgets/price.js","webpack://sage/./resources/scripts/widgets/sorting.js","webpack://sage/./resources/scripts/util/update-url-parameter.js","webpack://sage/./resources/scripts/widgets/categories.js","webpack://sage/./resources/scripts/widgets/meta.js"],"sourcesContent":["import {sorting} from \"./widgets/sorting\";\nimport {price} from \"./widgets/price\";\nimport {categories} from \"./widgets/categories\";\nimport {meta} from \"./widgets/meta\";\n\nwindow.growtypeWc['widgets'] = {};\n\njQuery(document).ready(() => {\n    sorting();\n    price();\n    categories();\n    meta();\n});\n","function price() {\n    const filterProductsByPriceEvent = new Event('filterProductsByPrice');\n    var price_values = 0;\n\n    jQuery(\".price_slider\").on(\"slidestart\", function (event, ui) {\n        price_values = ui.values;\n    });\n\n    jQuery(\".price_slider\").on(\"slidestop\", function (event, ui) {\n        if (JSON.stringify(price_values) == JSON.stringify(ui.values)) {\n            return false;\n        }\n\n        woocommerce_params_widgets.min_price = ui.values[0];\n        woocommerce_params_widgets.max_price = ui.values[1];\n\n        var filter = jQuery('.widget_price_filter form');\n        var existing_products = jQuery('body').find('.products');\n        var existing_main = jQuery('body').find('#main');\n\n        $.ajax({\n            url: filter.attr('action'),\n            data: filter.serialize(), // form data\n            type: filter.attr('method'), // POST\n            beforeSend: function (xhr) {\n                existing_products.append(\"<span class='spinner-border'><div></div><div></div></span>\").addClass('is-loading');\n            },\n            success: function (data) {\n                jQuery('.products .spinner-border').remove();\n                existing_products.removeClass('is-loading');\n\n                var filtered_products = jQuery(data).find('.products');\n                var filtered_main = jQuery(data).find('#main');\n                window.history.pushState('page-url', 'url', filter.attr('action') + '?' + filter.serialize());\n                jQuery('.woocommerce-info').remove();\n                if (filtered_products.html().length === 1) {\n                    jQuery('#main').prepend(jQuery(data).find('.woocommerce-info'));\n                }\n\n                existing_main.replaceWith(filtered_main);\n                document.dispatchEvent(filterProductsByPriceEvent);\n            }\n        });\n    });\n\n}\n\nexport {price};\n","import updateURLParameter from '../util/update-url-parameter';\n\nfunction sorting() {\n    const filterProductsByOrderEvent = new Event('filterProductsByOrder');\n\n    document.addEventListener('filterProductsByPrice', widgetOrderInit)\n    document.addEventListener('filterProductsByCategories', widgetOrderInit)\n\n    function widgetOrderInit() {\n\n        if (jQuery('.woocommerce-ordering .chosen-container').length === 0 && typeof jQuery.fn.chosen === 'function') {\n            setTimeout(function () {\n                jQuery('.woocommerce-ordering select').chosen(window.selectArgs);\n            }, 200)\n        }\n\n        jQuery('.woocommerce-ordering').submit(function (e) {\n            e.preventDefault();\n        });\n\n        /**\n         * Initiate select\n         */\n\n        jQuery('.woocommerce-ordering select').change(function (e) {\n            const searchParams = new URLSearchParams(window.location.search)\n            const orderingName = jQuery(this).attr('name')\n            const orderingValue = jQuery(this).val()\n            const current_products_group = jQuery('.products').attr('data-group');\n            const current_products_base = jQuery('.products').attr('data-base');\n\n            let categoryId = '';\n\n            woocommerce_params_widgets.min_price = searchParams.get('min_price');\n            woocommerce_params_widgets.max_price = searchParams.get('max_price');\n\n            /**\n             * Set current orderby value\n             */\n            woocommerce_params_widgets.orderby = searchParams.get('orderby');\n\n            if (jQuery(this).val().length > 0) {\n                woocommerce_params_widgets.orderby = jQuery(this).val();\n            }\n\n            if (typeof jQuery('body')[0] !== undefined && jQuery('body')[0].className.match(/term-\\d+/) !== null) {\n                categoryId = jQuery('body')[0].className.match(/term-\\d+/)[0];\n                categoryId = categoryId.replace(\"term-\", \"\");\n            }\n\n            if (categoryId.length > 0) {\n                woocommerce_params_widgets.categories_ids = [categoryId];\n            }\n\n            /**\n             * Replace window location params\n             */\n            window.history.replaceState('', '', updateURLParameter(window.location.href, orderingName, orderingValue));\n\n            jQuery('.woocommerce-pagination .page-numbers').each(function (index, element) {\n                if (typeof jQuery(element).attr('href') !== 'undefined') {\n                    let regex = new RegExp('(' + orderingName + '=)[^\\&]+');\n                    jQuery(element).attr('href', jQuery(element).attr('href').replace(regex, '$1' + orderingValue));\n                }\n            });\n\n            /**\n             * Get products\n             */\n            $.ajax({\n                url: woocommerce_params.ajax_url,\n                type: \"post\",\n                data: {\n                    orderby: woocommerce_params_widgets.orderby,\n                    action: 'filter_products',\n                    categories_ids: woocommerce_params_widgets.categories_ids,\n                    page_nr: growtype_params.page_nr,\n                    products_group: current_products_group,\n                    min_price: woocommerce_params_widgets.min_price,\n                    max_price: woocommerce_params_widgets.max_price,\n                    base: current_products_base,\n                },\n                beforeSend: function () {\n                    /**\n                     * Spinner add\n                     */\n                    jQuery('.products').append(\"<span class='spinner-border'><div></div><div></div></span>\").addClass('is-loading');\n                },\n                success: function (data) {\n                    /**\n                     * Spinner remove\n                     */\n                    jQuery('.products .spinner-border').remove();\n\n                    jQuery('.products').removeClass('is-loading').html(\"\").append(data.products).promise().done(function () {\n                        document.dispatchEvent(filterProductsByOrderEvent);\n                    });\n\n                    if (jQuery('.woocommerce-pagination').length > 0) {\n                        jQuery('.woocommerce-pagination').replaceWith(data.pagination);\n                    } else {\n                        jQuery('.products').after(data.pagination);\n                    }\n\n                    if (growtype_params.page_nr > 1 && data.pagination.length === 0) {\n                        window.location = current_products_base + '?orderby=' + woocommerce_params_widgets.orderby;\n                    }\n                }\n            });\n        });\n    }\n\n    widgetOrderInit();\n}\n\nexport {sorting};\n\n\n","export default function updateURLParameter(url, param, paramVal)\n{\n    let TheAnchor = null;\n    let newAdditionalURL = \"\";\n    let tempArray = url.split(\"?\");\n    let baseURL = tempArray[0];\n    let additionalURL = tempArray[1];\n    let temp = \"\";\n\n    if (additionalURL)\n    {\n        let tmpAnchor = additionalURL.split(\"#\");\n        let TheParams = tmpAnchor[0];\n        TheAnchor = tmpAnchor[1];\n        if(TheAnchor)\n            additionalURL = TheParams;\n\n        tempArray = additionalURL.split(\"&\");\n\n        for (let i=0; i<tempArray.length; i++)\n        {\n            if(tempArray[i].split('=')[0] != param)\n            {\n                newAdditionalURL += temp + tempArray[i];\n                temp = \"&\";\n            }\n        }\n    }\n    else\n    {\n        let tmpAnchor = baseURL.split(\"#\");\n        let TheParams = tmpAnchor[0];\n        TheAnchor  = tmpAnchor[1];\n\n        if(TheParams)\n            baseURL = TheParams;\n    }\n\n    if(TheAnchor)\n        paramVal += \"#\" + TheAnchor;\n\n    let rows_txt = temp + \"\" + param + \"=\" + paramVal;\n    return baseURL + \"?\" + newAdditionalURL + rows_txt;\n}\n","function categories() {\n    const filterProductsByCategories = new Event('filterProductsByCategories');\n\n    // document.addEventListener('filterProductsByPrice', widgetCategoriesInit)\n    // document.addEventListener('filterProductsByOrder', widgetCategoriesInit)\n\n    widgetCategoriesInit();\n\n    /**\n     *\n     */\n    function widgetCategoriesInit() {\n        if (jQuery('.product-categories[data-multiple=\"true\"]').length > 0) {\n\n            let currentCategoriesIds = getCurrentCategoriesIds();\n\n            if (currentCategoriesIds.length > 0) {\n                currentCategoriesIds.map(function (id) {\n                    jQuery('.product-categories .cat-item-' + id).addClass('current-cat');\n                });\n\n                getFilteredProductsByCategory(currentCategoriesIds);\n            }\n\n            /**\n             * Cat click\n             */\n            jQuery('.product-categories[data-multiple=\"true\"] a').click(function (e) {\n                e.preventDefault();\n                const parent = jQuery(this).closest('.cat-item');\n                const classes = parent.attr('class').split(' ');\n                let catId = null;\n                let currentCategoriesIds = [];\n                let newCategoriesIds = [];\n\n                /**\n                 * Disable parent\n                 */\n                if (jQuery('.product-categories[data-multiple-include-parent=\"true\"]').length === 0) {\n                    if (parent.hasClass('cat-parent')) {\n                        return false;\n                    }\n                }\n\n                /**\n                 * Get categories\n                 */\n                if (classes.length >= 2) {\n                    catId = classes[1];\n                    catId = catId.split(\"cat-item-\").pop();\n                }\n\n                /**\n                 * If no categories found, redirect\n                 */\n                if (catId === null) {\n                    window.redirect(jQuery(this).attr('href'))\n                }\n\n                currentCategoriesIds = getCurrentCategoriesIds();\n                newCategoriesIds = getCurrentCategoriesIds();\n\n                /**\n                 * Update categories with new ids\n                 */\n                if (parent.hasClass('current-cat')) {\n                    parent.removeClass('current-cat');\n\n                    let index = newCategoriesIds.indexOf(catId);\n                    if (index !== -1) {\n                        newCategoriesIds.splice(index, 1);\n                    }\n                } else {\n                    parent.addClass('current-cat');\n                    newCategoriesIds.push(catId)\n                }\n\n                updateSearchUrl(currentCategoriesIds, newCategoriesIds);\n\n                getFilteredProductsByCategory(newCategoriesIds);\n            });\n\n            /**\n             * Clear selections\n             */\n            jQuery('.btn-clear-cat-filter').click(function () {\n                let currentCategoriesIds = getCurrentCategoriesIds();\n\n                if (currentCategoriesIds.length > 0) {\n                    updateSearchUrl(currentCategoriesIds);\n\n                    getFilteredProductsByCategory();\n\n                    jQuery('.product-categories .cat-item').removeClass('current-cat');\n                }\n            });\n        }\n    }\n\n    /**\n     * @param categoriesIds\n     */\n    function getFilteredProductsByCategory(categoriesIds = []) {\n\n        woocommerce_params_widgets.categories_ids = categoriesIds;\n\n        $.ajax({\n            url: woocommerce_params.ajax_url,\n            type: \"post\",\n            data: {\n                orderby: woocommerce_params_widgets.orderby,\n                action: 'filter_products',\n                categories_ids: categoriesIds,\n            },\n            beforeSend: function () {\n                jQuery('.products').addClass('is-loading');\n            },\n            success: function (data) {\n                jQuery('.products').removeClass('is-loading').html(\"\").append(data).promise().done(function () {\n                    // document.dispatchEvent(filterProductsByOrderEvent);\n                });\n            }\n        });\n    }\n\n    /**\n     * Update url\n     */\n    function updateSearchUrl(currentCategoriesIds = [], newCategoriesIds = []) {\n        const currentUrl = window.location.href;\n        let newUrl = null;\n\n        if (newCategoriesIds.length > 0) {\n            if (currentUrl.includes(\"categories\")) {\n                newUrl = currentUrl.replace(\"categories=\" + currentCategoriesIds.toString(), \"categories=\" + newCategoriesIds.toString());\n            } else if (window.location.search.length > 0) {\n                newUrl = currentUrl + '&categories=' + newCategoriesIds.toString() + '';\n            } else {\n                newUrl = currentUrl + '?categories=' + newCategoriesIds.toString() + '';\n            }\n        } else {\n            newUrl = currentUrl\n                .replace(\"&categories=\" + currentCategoriesIds.toString(), \"\")\n                .replace(\"?categories=\" + currentCategoriesIds.toString() + '&', \"?\")\n                .replace(\"?categories=\" + currentCategoriesIds.toString(), \"\")\n        }\n\n        if (newUrl.length > 0) {\n            window.history.pushState('page-url', 'url', newUrl);\n        }\n    }\n\n    /**\n     * Get categories ids\n     */\n    function getCurrentCategoriesIds() {\n        const currentUrl = window.location.href;\n        const site = new URL(currentUrl);\n        const params = new URLSearchParams(site.search);\n        let currentCategoriesIds = [];\n\n        for (const param of params) {\n            if (param[0].length > 0 && param[0] === 'categories') {\n                currentCategoriesIds = param[1].split(\",\");\n            }\n        }\n\n        return currentCategoriesIds;\n    }\n}\n\nexport {categories};\n","function meta() {\n    window.growtypeWc['widgets']['meta'] = {};\n\n    const filterProductsByMetaEvent = new Event('filterProductsByMeta');\n\n    $('.widget_product_meta_filter .b-options-single').click(function () {\n\n        let existingProducts = jQuery('body').find('.products');\n\n        $(this).toggleClass('is-active');\n\n        let metaKey = $('.widget_product_meta_filter .b-content').attr('data-key');\n\n        window.growtypeWc['widgets']['meta']['values'] = [];\n        $('.widget_product_meta_filter .b-options-single.is-active').map(function (index, element) {\n            let value = $(element).attr('data-value');\n            window.growtypeWc['widgets']['meta']['values'].push(value);\n        })\n\n        $.ajax({\n            url: ajax_object.ajaxurl,\n            type: \"post\",\n            data: {\n                'action': 'filter_products',\n                'meta_key': metaKey,\n                'meta_values': JSON.stringify(window.growtypeWc['widgets']['meta']['values']),\n            },\n            beforeSend: function (xhr) {\n                existingProducts.append(\"<span class='spinner-border'><div></div><div></div></span>\").addClass('is-loading');\n            },\n            success: function (data) {\n                jQuery('.products .spinner-border').remove();\n                existingProducts.removeClass('is-loading');\n\n                // window.history.pushState('page-url', 'url', filter.attr('action') + '?' + filter.serialize());\n                jQuery('.woocommerce-info').remove();\n\n                existingProducts.html(data.products)\n\n                document.dispatchEvent(filterProductsByMetaEvent);\n            }\n        });\n    })\n}\n\nexport {meta};\n"],"names":["window","growtypeWc","jQuery","document","ready","filterProductsByPriceEvent","price_values","filterProductsByOrderEvent","Event","widgetOrderInit","length","fn","chosen","setTimeout","selectArgs","submit","e","preventDefault","change","searchParams","URLSearchParams","location","search","orderingName","this","attr","orderingValue","val","current_products_group","current_products_base","categoryId","woocommerce_params_widgets","min_price","get","max_price","orderby","undefined","className","match","replace","categories_ids","history","replaceState","url","param","paramVal","TheAnchor","newAdditionalURL","tempArray","split","baseURL","additionalURL","temp","tmpAnchor","TheParams","i","updateURLParameter","href","each","index","element","regex","RegExp","$","ajax","woocommerce_params","ajax_url","type","data","action","page_nr","growtype_params","products_group","base","beforeSend","append","addClass","success","remove","removeClass","html","products","promise","done","dispatchEvent","replaceWith","pagination","after","addEventListener","sorting","on","event","ui","values","JSON","stringify","filter","existing_products","find","existing_main","serialize","xhr","filtered_products","filtered_main","pushState","prepend","getFilteredProductsByCategory","categoriesIds","updateSearchUrl","currentCategoriesIds","newCategoriesIds","currentUrl","newUrl","includes","toString","getCurrentCategoriesIds","site","URL","map","id","click","parent","closest","classes","catId","hasClass","pop","redirect","indexOf","splice","push","widgetCategoriesInit","categories","filterProductsByMetaEvent","existingProducts","toggleClass","metaKey","value","ajax_object","ajaxurl","meta"],"sourceRoot":""}